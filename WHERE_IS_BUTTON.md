# 🔍 "分配任务"按钮在哪里？

## 📍 按钮位置

"分配任务"按钮在 **管理看板** 的 **Worker 状态表格** 中，每个 Worker 行的 **最右侧**。

## 🎯 查找步骤

### 1. 打开管理看板
```
http://localhost:3000/dashboard
```

### 2. 确保在"监控面板"标签
- 页面顶部有两个标签："监控面板" 和 "请求日志"
- 确保 "监控面板" 是蓝色高亮的（已选中）

### 3. 向下滚动到"Worker 状态"部分
- 在 4 个指标卡片下方
- 有一个标题 "Worker 状态"
- 下面是一个表格

### 4. 查看表格结构

表格应该有这些列：

```
┌──────────────┬──────────┬────────┬──────────┬──────────┬────────┐
│ Worker ID    │ IP 地址  │ 状态   │ 当前任务 │ 连接时长 │ 操作   │
├──────────────┼──────────┼────────┼──────────┼──────────┼────────┤
│ worker-001   │ 127.0.0.1│ 空闲   │ 无任务   │ 0h 1m 5s │ [按钮] │
└──────────────┴──────────┴────────┴──────────┴──────────┴────────┘
                                                            ↑
                                                    这里是"分配任务"按钮
```

### 5. 按钮外观

按钮应该是：
- 📤 有一个小飞机图标
- 📝 文字显示 "分配任务"
- 🔵 蓝色背景（如果 Worker 是空闲的）
- ⚪ 灰色背景（如果 Worker 正在忙碌）

## ❓ 如果看不到按钮

### 情况 1: 表格中没有"操作"列

**原因**: 页面可能没有正确加载

**解决方法**:
1. 按 `Ctrl + F5` 强制刷新页面（清除缓存）
2. 或者关闭浏览器标签，重新打开

### 情况 2: 表格是空的，显示"当前无任何 Worker 在线"

**原因**: 没有 Worker 连接

**解决方法**:
1. 打开 Worker 测试工具: http://localhost:3000/test-worker
2. 点击"连接"按钮
3. 等待连接成功
4. 回到管理看板，应该能看到 Worker 了

### 情况 3: 有 Worker 但没有"操作"列

**原因**: 代码可能没有正确编译

**解决方法**:
1. 停止服务器（在终端按 Ctrl+C）
2. 运行以下命令：
```bash
Remove-Item -Recurse -Force .next
npm run dev
```
3. 等待服务器启动
4. 刷新浏览器页面

## 🧪 快速测试

在浏览器控制台（F12）运行这个命令，检查按钮是否存在：

```javascript
// 检查是否有"分配任务"按钮
const buttons = document.querySelectorAll('button');
const assignButtons = Array.from(buttons).filter(btn => 
  btn.textContent.includes('分配任务')
);
console.log('找到的"分配任务"按钮数量:', assignButtons.length);
console.log('按钮:', assignButtons);
```

如果返回 `0`，说明按钮没有渲染出来。

## 📸 预期的页面布局

```
┌─────────────────────────────────────────────────────────┐
│  任务调度系统 - 管理看板                                │
│  上次更新: 15:30:45                                     │
├─────────────────────────────────────────────────────────┤
│  [监控面板]  [请求日志]                                 │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐  │
│  │在线Worker│ │队列长度  │ │忙碌Worker│ │平均等待  │  │
│  │    1     │ │    0     │ │    0     │ │   0ms    │  │
│  └──────────┘ └──────────┘ └──────────┘ └──────────┘  │
│                                                          │
│  Worker 状态                                            │
│  ┌────────────────────────────────────────────────┐    │
│  │ Worker ID │ IP地址 │ 状态 │ 任务 │ 时长 │ 操作 │    │
│  ├────────────────────────────────────────────────┤    │
│  │ worker-.. │ 127... │ 空闲 │ 无   │ 1m   │ [📤] │    │
│  └────────────────────────────────────────────────┘    │
│                                              ↑          │
│                                         这里是按钮      │
└─────────────────────────────────────────────────────────┘
```

## 🎬 完整操作流程

### 第 1 步：连接 Worker
1. 打开新标签页: http://localhost:3000/test-worker
2. 点击"连接"按钮
3. 看到 "✓ WebSocket 连接成功"

### 第 2 步：查看管理看板
1. 打开新标签页: http://localhost:3000/dashboard
2. 确认在"监控面板"标签
3. 看到"在线 Worker 总数" 显示 1

### 第 3 步：找到按钮
1. 向下滚动到"Worker 状态"表格
2. 在表格的最右侧列（"操作"列）
3. 看到蓝色的"分配任务"按钮

### 第 4 步：点击按钮
1. 点击"分配任务"按钮
2. 按钮文字变成"分配中..."
3. Worker 状态变成"忙碌中"（桃色）
4. 2 秒后自动变回"空闲"（蓝色）

## 💡 提示

- **按钮只在"监控面板"标签中显示**，不在"请求日志"标签
- **每个 Worker 都有自己的按钮**，如果有 3 个 Worker，就有 3 个按钮
- **忙碌的 Worker 按钮会变灰**，无法点击
- **按钮在表格的最右侧**，可能需要横向滚动才能看到（在小屏幕上）

## 🆘 还是找不到？

请告诉我：
1. 你看到了"Worker 状态"表格吗？
2. 表格有几列？列名是什么？
3. 表格中有 Worker 数据吗？
4. 截图发给我，我帮你看看

或者直接在浏览器控制台运行上面的测试命令，告诉我结果！
